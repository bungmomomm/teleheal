!function($){$.fn.slideshow=function(e){function s(){if(console.log("Slide refresh triggered."),f=Date.now(),0==t[0].children.length)console.log("There are no slides in the slideshow."),i.find("."+n.slideElementClass+":first").prependTo(t);else{i.find("."+n.slideElementClass+":first").prependTo(t);var e="#"+n.slideshowId+" ."+n.slideElementClass;$(e+":first span.animate").addClass("active").css("animation-duration",c+"ms"),$(e+":last").fadeOut(n.fadeDuration,function(){$(e+":last span.animate").removeClass("active").css("animation-duration","0ms"),$(e+":last").appendTo(i),i.find("."+n.slideElementClass).show(0)})}}var i=$(this),n=$.extend({randomize:!0,slideDuration:6e3,fadeDuration:1e3,animate:!0,pauseOnTabBlur:!0,enableLog:!1,slideElementClass:"slide",slideshowId:"slideshow"},e);if(0==n.enableLog&&(console.log=function(){}),1==n.randomize)for(var a=i[0],l=a.children.length;l>=0;l--)a.appendChild(a.children[Math.random()*l|0]);$('<div id="'+n.slideshowId+'"></div>').insertBefore(i);var o=!1,t=$("#"+n.slideshowId),d=0,r=0,u;if(1==n.animate)var c=n.slideDuration+n.fadeDuration;else{i.find("."+n.slideElementClass+" span.animate").removeClass("animate");var c=0}console.log("Slideshow initialized."),i.find("."+n.slideElementClass+":first span.animate").addClass("active").css("animation-duration",c+"ms"),i.find("."+n.slideElementClass+":first").prependTo(t);var f=Date.now();slidesInterval=setInterval(s,n.slideDuration),console.log("Slideshow started."),1==n.pauseOnTabBlur&&$(window).focus(function(){console.log("Window gained focus."),1==o&&(console.log("Resuming slideshow."),r=Date.now(),o=!1,$("#"+n.slideshowId+" span.active:last").removeClass("paused"),u=setTimeout(function(){d=0,s(),slidesInterval=setInterval(s,n.slideDuration)},n.slideDuration-d))}).blur(function(){if(o=!0,console.log("Window lost focus, slideshow paused."),0!=d){var e=Date.now()-r;d+=e,console.log("Time since last pause within this slide: "+e+" ms")}else d=Date.now()-f;console.log("Current slide at "+d+" ms."),$("#"+n.slideshowId+" span.active:first").addClass("paused"),clearInterval(slidesInterval),clearTimeout(u)})}}(jQuery);