!function(e){var a={host:"https://www.instagram.com/",username:"",tag:"",container:"",display_profile:!0,display_biography:!0,display_gallery:!0,display_igtv:!1,get_data:!1,callback:null,styling:!0,items:8,items_per_row:4,margin:.5,image_size:640},t={150:0,240:1,320:2,480:3,640:4};e.instagramFeed=function(r){var i=e.fn.extend({},a,r);if(""==i.username&&""==i.tag)return console.error("Instagram Feed: Error, no username or tag found."),!1;if(void 0!==i.get_raw_json&&(console.warn("Instagram Feed: get_raw_json is deprecated. See use get_data instead"),i.get_data=i.get_raw_json),!i.get_data&&""==i.container)return console.error("Instagram Feed: Error, no container found."),!1;if(i.get_data&&null==i.callback)return console.error("Instagram Feed: Error, no callback defined to get the raw json"),!1;var s=""==i.username;return e.get(s?i.host+"explore/tags/"+i.tag:i.host+i.username,function(a){if(a=a.split("window._sharedData = ")[1].split("</script>")[0],a=JSON.parse(a.substr(0,a.length-1)),a=a.entry_data.ProfilePage||a.entry_data.TagPage,a=a[0].graphql.user||a[0].graphql.hashtag,i.get_data)i.callback(a);else{var r="",n="",o="",g="",l="";i.styling&&(r=" style='text-align:center;'",n=" style='border-radius:10em;width:15%;max-width:125px;min-width:50px;'",o=" style='font-size:1.2em;'",g=" style='font-size:1em;'",l=" style='margin:"+i.margin+"% "+i.margin+"%;width:"+(100-2*i.margin*i.items_per_row)/i.items_per_row+"%;float:left;'");var d="";if(i.display_profile&&(d=d+"<div class='instagram_profile'"+r+"><img class='instagram_profile_image' src='"+a.profile_pic_url+"' alt='"+(s?a.name+" tag pic":a.username+" profile pic")+"'"+n+" />",d=s?d+"<p class='instagram_tag'"+o+"><a href='https://www.instagram.com/explore/tags/"+i.tag+"' rel='noopener' target='_blank'>#"+i.tag+"</a></p>":d+"<p class='instagram_username'"+o+">@"+a.full_name+" (<a href='https://www.instagram.com/"+i.username+"' rel='noopener' target='_blank'>@"+i.username+"</a>)</p>",!s&&i.display_biography&&(d+="<p class='instagram_biography'"+g+">"+a.biography+"</p>"),d+="</div>"),o=void 0!==t[i.image_size]?t[i.image_size]:t[640],i.display_gallery)if(void 0!==a.is_private&&!0===a.is_private)d+="<p class='instagram_private'><strong>This profile is private</strong></p>";else{for(g=(a.edge_owner_to_timeline_media||a.edge_hashtag_to_media).edges,n=g.length>i.items?i.items:g.length,d+="<div class='instagram_gallery'>",r=0;r<n;r++){var m="https://www.instagram.com/p/"+g[r].node.shortcode;switch(g[r].node.__typename){case"GraphSidecar":var _="sidecar",c=g[r].node.thumbnail_resources[o].src;break;case"GraphVideo":_="video",c=g[r].node.thumbnail_src;break;default:_="image",c=g[r].node.thumbnail_resources[o].src}var p=void 0!==g[r].node.edge_media_to_caption.edges[0]?g[r].node.edge_media_to_caption.edges[0].node.text:void 0!==g[r].node.accessibility_caption?g[r].node.accessibility_caption:(s?a.name:a.username)+" image "+r;d+="<a href='"+m+"' class='instagram-"+_+"' rel='noopener' target='_blank'>",d+="<img src='"+c+"' alt='"+p+"'"+l+" />",d+="</a>"}d+="</div>"}if(i.display_igtv&&void 0!==a.edge_felix_video_timeline&&(a=a.edge_felix_video_timeline.edges,n=a.length>i.items?i.items:a.length,0<a.length)){for(d+="<div class='instagram_igtv'>",r=0;r<n;r++)d+="<a href='https://www.instagram.com/p/"+a[r].node.shortcode+"' rel='noopener' target='_blank'>",d+="<img src='"+a[r].node.thumbnail_src+"' alt='"+i.username+" instagram image "+r+"'"+l+" />",d+="</a>";d+="</div>"}e(i.container).html(d)}}).fail(function(e){console.error("Instagram Feed: Unable to fetch the given user/tag. Instagram responded with the status code: ",e.status)}),!0}}(jQuery);