var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,i=function(n){var o=t.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)},a=e.webkitRequestFileSystem,c=e.requestFileSystem||a||e.mozRequestFileSystem,f=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s="application/octet-stream",u=0,d=500,l=function(t){var o=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?o():setTimeout(o,500)},v=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){f(e)}}},p=function(t,f){var d=this,p=t.type,w=!1,y,m,S=function(){v(d,"writestart progress write writeend".split(" "))},h=function(){if(!w&&y||(y=n().createObjectURL(t)),m)m.location.href=y;else{void 0==e.open(y,"_blank")&&"undefined"!=typeof safari&&(e.location.href=y)}d.readyState=d.DONE,S(),l(y)},O=function(e){return function(){if(d.readyState!==d.DONE)return e.apply(this,arguments)}},b={create:!0,exclusive:!1},E;return d.readyState=d.INIT,f||(f="download"),r?(y=n().createObjectURL(t),o.href=y,o.download=f,i(o),d.readyState=d.DONE,S(),void l(y)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)&&(t=new Blob(["\ufeff",t],{type:t.type})),e.chrome&&p&&p!==s&&(E=t.slice||t.webkitSlice,t=E.call(t,0,t.size,s),w=!0),a&&"download"!==f&&(f+=".download"),(p===s||a)&&(m=e),c?(u+=t.size,void c(e.TEMPORARY,u,O(function(e){e.root.getDirectory("saved",b,O(function(e){var n=function(){e.getFile(f,b,O(function(e){e.createWriter(O(function(n){n.onwriteend=function(t){m.location.href=e.toURL(),d.readyState=d.DONE,v(d,"writeend",t),l(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&h()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=d["on"+e]}),n.write(t),d.abort=function(){n.abort(),d.readyState=d.DONE},d.readyState=d.WRITING}),h)}),h)};e.getFile(f,{create:!1},O(function(e){e.remove(),n()}),O(function(e){e.code===e.NOT_FOUND_ERR?n():h()}))}),h)}),h)):void h())},w=p.prototype,y=function(e,t){return new p(e,t)};return w.abort=function(){var e=this;e.readyState=e.DONE,v(e,"abort")},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,y}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});